# Rutas de tareas

parameterize:
    get:
        tags:
            - Tareas
        summary: Parametrizar una tarea
        description: Analiza una tarea y devuelve parámetros como tipo, complejidad y tiempo estimado
        operationId: parameterizeTask
        parameters:
            - $ref: '../components/parameters.yaml#/taskIdParam'
        responses:
            200:
                description: Parametrización exitosa
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                    example: true
                                data:
                                    $ref: '../components/schemas.yaml#/TaskParameters'
            400:
                $ref: '../components/responses.yaml#/BadRequestError'
            401:
                $ref: '../components/responses.yaml#/UnauthorizedError'
            404:
                $ref: '../components/responses.yaml#/NotFoundError'
            500:
                $ref: '../components/responses.yaml#/ServerError'

codeSuggestion:
    post:
        tags:
            - Tareas
        summary: Generar sugerencia de código para una tarea
        description: Envía un prompt a la IA para obtener sugerencias de código basadas en una tarea
        operationId: generateCodeSuggestion
        parameters:
            - $ref: '../components/parameters.yaml#/taskIdParam'
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            prompt:
                                type: string
                                description: Prompt para generar código
                                example: 'Escribe una función en JavaScript para sumar dos números'
        responses:
            200:
                description: Sugerencia de código generada exitosamente
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                    example: true
                                data:
                                    type: string
                                    example: 'function sumar(a, b) { return a + b; }'
            400:
                $ref: '../components/responses.yaml#/BadRequestError'
            401:
                $ref: '../components/responses.yaml#/UnauthorizedError'
            404:
                $ref: '../components/responses.yaml#/NotFoundError'
            500:
                $ref: '../components/responses.yaml#/ServerError'

messages:
    get:
        tags:
            - Tareas
        summary: Obtener historial de mensajes para una tarea
        description: Obtiene todos los mensajes relacionados con una tarea específica
        operationId: getTaskMessages
        parameters:
            - $ref: '../components/parameters.yaml#/taskIdParam'
        responses:
            200:
                description: Historial de mensajes obtenido exitosamente
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                    example: true
                                count:
                                    type: integer
                                    example: 3
                                data:
                                    type: array
                                    items:
                                        $ref: '../components/schemas.yaml#/Message'
            400:
                $ref: '../components/responses.yaml#/BadRequestError'
            401:
                $ref: '../components/responses.yaml#/UnauthorizedError'
            404:
                $ref: '../components/responses.yaml#/NotFoundError'
            500:
                $ref: '../components/responses.yaml#/ServerError'
