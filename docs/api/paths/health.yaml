/health:
    get:
        summary: Verificar el estado b치sico del servicio
        description: Endpoint para comprobar que la API est치 en funcionamiento
        tags:
            - Health
        responses:
            200:
                description: API en funcionamiento
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                    example: true
                                message:
                                    type: string
                                    example: 'API Intermediaria is running'
                                version:
                                    type: string
                                    example: '1.0.0'
                                time:
                                    type: string
                                    format: date-time
                                    example: '2023-07-18T15:45:28.651Z'

/health/detailed:
    get:
        summary: Verificar el estado detallado de todos los servicios
        description: Proporciona informaci칩n detallada sobre el estado de todos los componentes del sistema
        tags:
            - Health
        security:
            - BearerAuth: []
        responses:
            200:
                description: Estado detallado del sistema
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                    example: true
                                version:
                                    type: string
                                    example: '1.0.0'
                                time:
                                    type: string
                                    format: date-time
                                    example: '2023-07-18T15:45:28.651Z'
                                services:
                                    type: object
                                    properties:
                                        api:
                                            type: string
                                            example: 'running'
                                        mongodb:
                                            type: string
                                            enum: [connected, disconnected, error]
                                            example: 'connected'
                                        ollama:
                                            type: string
                                            enum: [connected, error, unknown]
                                            example: 'connected'
                                        django:
                                            type: string
                                            enum: [connected, error, unknown]
                                            example: 'connected'
                                system:
                                    type: object
                                    properties:
                                        nodeVersion:
                                            type: string
                                            example: 'v16.14.0'
                                        platform:
                                            type: string
                                            example: 'linux'
                                        memory:
                                            type: object
                                            properties:
                                                rss:
                                                    type: integer
                                                    example: 76587008
                                                heapTotal:
                                                    type: integer
                                                    example: 38080512
                                                heapUsed:
                                                    type: integer
                                                    example: 23633864
                                                external:
                                                    type: integer
                                                    example: 1694158
                                                arrayBuffers:
                                                    type: integer
                                                    example: 9898
                                        uptime:
                                            type: number
                                            example: 3600.212
            401:
                $ref: '../components/responses.yaml#/Unauthorized'
            500:
                description: Error en la verificaci칩n de salud
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                    example: false
                                error:
                                    type: string
                                    example: 'Health check failed'
                                message:
                                    type: string
                                    example: 'Failed to connect to MongoDB'
