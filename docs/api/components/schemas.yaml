# Schemas para entidades principales

User:
    type: object
    required:
        - name
        - email
    properties:
        id:
            type: string
            description: ID único del usuario
        name:
            type: string
            example: 'Juan Pérez'
        email:
            type: string
            format: email
            example: 'juan@example.com'
        role:
            type: string
            enum: [user, admin]
            default: user
        createdAt:
            type: string
            format: date-time

Chat:
    type: object
    required:
        - title
        - user
    properties:
        id:
            type: string
            description: ID único del chat
        title:
            type: string
            example: 'Análisis de Proyecto X'
        user:
            type: string
            description: ID del usuario propietario
        projectId:
            type: string
            description: ID del proyecto relacionado (opcional)
            nullable: true
        taskId:
            type: string
            description: ID de la tarea relacionada (opcional)
            nullable: true
        status:
            type: string
            enum: [active, archived]
            default: active
        lastMessage:
            type: string
            format: date-time
        createdAt:
            type: string
            format: date-time
        updatedAt:
            type: string
            format: date-time

Message:
    type: object
    required:
        - chat
        - user
        - requestType
    properties:
        id:
            type: string
            description: ID único del mensaje
        chat:
            type: string
            description: ID del chat al que pertenece el mensaje
        user:
            type: string
            description: ID del usuario que envió el mensaje
        requestType:
            type: string
            enum:
                [
                    user_message,
                    ai_response,
                    code_suggestion,
                    task_parameterization,
                    project_context,
                    resource_assignment,
                ]
        prompt:
            type: string
            description: Texto enviado por el usuario
            nullable: true
        response:
            type: object
            nullable: true
            properties:
                content:
                    type: string
                    description: Contenido de la respuesta de la IA
                model:
                    type: string
                    description: Modelo de IA utilizado
                time:
                    type: integer
                    description: Tiempo de respuesta en ms
        taskId:
            type: string
            nullable: true
        projectId:
            type: string
            nullable: true
        createdAt:
            type: string
            format: date-time

Task:
    type: object
    properties:
        id:
            type: string
        title:
            type: string
        description:
            type: string
        status:
            type: string
        priority:
            type: string
        project:
            type: object
            properties:
                id:
                    type: string
                name:
                    type: string

Resource:
    type: object
    properties:
        id:
            type: string
        name:
            type: string
        role:
            type: string
        experience:
            type: string
        technologies:
            type: array
            items:
                type: string
        availability:
            type: number
            format: float
            description: Disponibilidad del recurso (0-1)

# Esquemas para peticiones

UserRegistration:
    type: object
    required:
        - name
        - email
        - password
    properties:
        name:
            type: string
            minLength: 3
            maxLength: 50
            example: 'Juan Pérez'
        email:
            type: string
            format: email
            example: 'juan@example.com'
        password:
            type: string
            format: password
            minLength: 6
            example: 'password123'
        role:
            type: string
            enum: [user, admin]
            default: user

UserLogin:
    type: object
    required:
        - email
        - password
    properties:
        email:
            type: string
            format: email
            example: 'juan@example.com'
        password:
            type: string
            format: password
            example: 'password123'

CreateChat:
    type: object
    required:
        - title
    properties:
        title:
            type: string
            minLength: 3
            maxLength: 100
            example: 'Consulta sobre arquitectura'
        projectId:
            type: string
            nullable: true
        taskId:
            type: string
            nullable: true

CreateMessage:
    type: object
    required:
        - prompt
    properties:
        prompt:
            type: string
            example: '¿Cómo puedo implementar autenticación JWT en una API Node.js?'
        requestType:
            type: string
            enum: [user_message, code_suggestion, task_parameterization, project_context]
            default: user_message
        projectId:
            type: string
            nullable: true
        taskId:
            type: string
            nullable: true
