<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="800" height="450">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#0d6efd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0dcaf0;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6610f2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8540f5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#198754;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#20c997;stop-opacity:1" />
    </linearGradient>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#666" />
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" fill="#333">Arquitectura API Intermediaria</text>
  
  <!-- Cliente -->
  <rect x="50" y="100" rx="10" ry="10" width="150" height="80" fill="#f8f9fa" stroke="#333" stroke-width="2" />
  <text x="125" y="145" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">Cliente</text>
  <text x="125" y="165" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">(Frontend React)</text>
  
  <!-- API Intermediaria -->
  <rect x="300" y="80" rx="10" ry="10" width="200" height="280" fill="url(#grad1)" stroke="#333" stroke-width="2" />
  <text x="400" y="110" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#fff">API Intermediaria</text>
  
  <!-- Express -->
  <rect x="325" y="130" rx="5" ry="5" width="150" height="30" fill="#fff" stroke="#333" stroke-width="1" />
  <text x="400" y="150" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Express</text>
  
  <!-- Controladores -->
  <rect x="325" y="170" rx="5" ry="5" width="150" height="30" fill="#fff" stroke="#333" stroke-width="1" />
  <text x="400" y="190" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Controladores</text>
  
  <!-- Servicios -->
  <rect x="325" y="210" rx="5" ry="5" width="150" height="30" fill="#fff" stroke="#333" stroke-width="1" />
  <text x="400" y="230" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Servicios</text>
  
  <!-- MongoDB -->
  <rect x="325" y="250" rx="5" ry="5" width="150" height="30" fill="#fff" stroke="#333" stroke-width="1" />
  <text x="400" y="270" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">MongoDB</text>
  
  <!-- Middleware -->
  <rect x="325" y="290" rx="5" ry="5" width="150" height="30" fill="#fff" stroke="#333" stroke-width="1" />
  <text x="400" y="310" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Middleware</text>
  
  <!-- Django -->
  <rect x="600" y="100" rx="10" ry="10" width="150" height="80" fill="url(#grad2)" stroke="#333" stroke-width="2" />
  <text x="675" y="145" font-family="Arial" font-size="16" text-anchor="middle" fill="#fff">Django API</text>
  <text x="675" y="165" font-family="Arial" font-size="12" text-anchor="middle" fill="#fff">Gestión de Proyectos</text>
  
  <!-- Ollama -->
  <rect x="600" y="250" rx="10" ry="10" width="150" height="80" fill="url(#grad3)" stroke="#333" stroke-width="2" />
  <text x="675" y="290" font-family="Arial" font-size="16" text-anchor="middle" fill="#fff">Ollama IA</text>
  <text x="675" y="310" font-family="Arial" font-size="12" text-anchor="middle" fill="#fff">DeepSeek Coder</text>
  
  <!-- Flechas -->
  <!-- Cliente a API -->
  <line x1="200" y1="140" x2="290" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="245" y="130" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">HTTP/JWT</text>
  
  <!-- API a Cliente -->
  <line x1="290" y1="160" x2="200" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="245" y="180" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">JSON</text>
  
  <!-- API a Django -->
  <line x1="500" y1="140" x2="590" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="545" y="130" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">HTTP/Token</text>
  
  <!-- Django a API -->
  <line x1="590" y1="160" x2="500" y2="160" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="545" y="180" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">JSON</text>
  
  <!-- API a Ollama -->
  <line x1="500" y1="290" x2="590" y2="290" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="545" y="280" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">Prompts</text>
  
  <!-- Ollama a API -->
  <line x1="590" y1="310" x2="500" y2="310" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="545" y="330" font-family="Arial" font-size="12" text-anchor="middle" fill="#666">Completions</text>
  
  <!-- Leyenda -->
  <text x="400" y="400" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold" fill="#333">Leyenda</text>
  
  <rect x="100" y="420" width="20" height="10" fill="url(#grad1)" />
  <text x="130" y="430" font-family="Arial" font-size="12" fill="#333">API Intermediaria</text>
  
  <rect x="250" y="420" width="20" height="10" fill="url(#grad2)" />
  <text x="280" y="430" font-family="Arial" font-size="12" fill="#333">Django API</text>
  
  <rect x="400" y="420" width="20" height="10" fill="url(#grad3)" />
  <text x="430" y="430" font-family="Arial" font-size="12" fill="#333">Ollama IA</text>
  
  <rect x="550" y="420" width="20" height="10" fill="#f8f9fa" stroke="#333" stroke-width="1" />
  <text x="580" y="430" font-family="Arial" font-size="12" fill="#333">Cliente</text>
  
  <line x1="650" y1="420" x2="670" y2="420" stroke="#666" stroke-width="2" marker-end="url(#arrow)" />
  <text x="700" y="430" font-family="Arial" font-size="12" fill="#333">Flujo de datos</text>
</svg>
